RewriteEngine On

Options -Indexes

DirectorySlash On

RewriteRule ^app,?/?(.*)$ index.php [L]

RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^ - [L]

RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^(.*)$ index.php [QSA,L]

RewriteRule ^(.*)$ index.php [QSA,L]